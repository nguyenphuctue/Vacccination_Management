<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<title>Create News</title>

<head th:replace="dashboard :: head">

</head>

<body class="fixed-sn light-blue-skin">
<header th:replace="dashboard :: header"></header>
<main class="pt-4">
	<div class="title">
		<h2></h2>
	</div>
	<div class="container-fluid mt-5">
		<div class="mt-3">
			<h4 style="text-align: center;">CREATE NEWS</h4>
		</div>
		<form
				action=""
				id="addNews" th:action="@{/news/addNews}" th:object="${news}" method="post" enctype="multipart/form-data" var="newInjection">
			<div class="card">
				<div>
					<input th:field="*{newsId}" hidden >
				</div>
				<div class="row ml-1 mr-1">
					<div class="col-xl-4 form-group">
						<label for="">Title <span style="color: red;">(*)</span>
							<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
						</label>

						<input th:field="*{title}" type="text" class="form-control" name="" id="title" required>
					</div>
				</div>
				<div class="row ml-1 mr-1">
					<div class="col-xl-4 form-group">
						<label for="">Post Date<span style="color: red;">(*)</span>
							<span th:if="${#fields.hasErrors('postDate')}" th:errors="*{postDate}"></span>
						</label>

						<input th:field="*{postDate}" type="date" id="date" class="form-control" name="date" required>
					</div>
				</div>
				<div class=" row ml-1 mr-1">
					<div class="col-xl form-group">
						<label for="">Preview<span style="color: red;">(*)</span>
							<span th:if="${#fields.hasErrors('preview')}" th:errors="*{preview}"></span>
						</label>
						<textarea th:field="*{preview}" class="form-control" id="preview" name="place"
								  rows="3" required></textarea>
					</div>
				</div>

				<div class=" row ml-1 mr-1">
					<div class="col-xl form-group">
						<label for="">Content<span style="color: red;">(*)</span>
							<span th:if="${#fields.hasErrors('content')}" th:errors="*{content}"></span>
						</label>

						<textarea th:field="*{content}"  class="form-control" id="content" name="place"
								  rows="3" required></textarea>
					</div>
				</div>


				<!--					<div class=" row ml-1 mr-1">-->
				<!--						<div class="col-xl form-group">-->
				<!--							<label for="">Content<span style="color: red;">(*)</span>-->
				<!--								<span th:if="${#fields.hasErrors('content')}" th:errors="*{content}"></span>-->
				<!--							</label>-->


				<!--&lt;!&ndash;							<textarea th:field="*{content}"  class="form-control" id="content editor" name="place"&ndash;&gt;-->
				<!--&lt;!&ndash;									  rows="3" required></textarea>&ndash;&gt;-->


				<!--							<div  th:field="*{content}"  id="editor"  rows="3"  >-->

				<!--							</div>-->
				<!--						</div>-->
				<!--					</div>-->


				<div class="mb-5 ml-4">
					<button type="submit" class="btn btn-success" id="saveNews" >Save</button>
					<button type="reset" class="btn btn-primary">Reset</button>
					<button type="button" class="btn btn-warning" data-dismiss="modal" onclick="window.history.go(-1); return false;">Cancel</button>
				</div>

			</div>
		</form>

	</div>
	</div>
</main>
<!--	<script  type="text/javascript"  src="/assets/js/ckeditor.js"></script>-->
<script src="https://cdn.ckeditor.com/ckeditor5/27.1.0/decoupled-document/ckeditor.js"></script>
<script type="text/javascript" src="/assets/js/mdb.min.js"></script>
<script type="text/javascript">
	function PreviewImage() {
		var oFReader = new FileReader();
		oFReader.readAsDataURL(document.getElementById("image").files[0]);
		oFReader.onload = function (oFREvent) {
			document.getElementById("avatar").src = oFREvent.target.result;
		};
	};
</script>
<script>
	DecoupledEditor
			.create( document.querySelector( '#editor' ) )
			.then( editor => {
				const toolbarContainer = document.querySelector( '#toolbar-container' );

				toolbarContainer.appendChild( editor.ui.view.toolbar.element );
			} )
			.catch( error => {
				console.error( error );
			} );
</script>
</body>

</html>